(function(){"use strict";var t={9745:function(t,e,n){n(6992),n(8674),n(9601),n(7727);var a=n(144),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("v-main",[n("router-view")],1)],1)},o=[],i=(n(2222),n(3781)),u=n.n(i),c={name:"App",computed:{background:function(){var t=this.getTempColor(-5),e=this.getTempColor(20),n="linear-gradient(106.32deg, ".concat(t," 0%, ").concat(e," 100%)");return{background:n,height:"100%"}}},data:function(){return{temps:[{value:-40,color:"#10428f"},{value:-20,color:"#21a5ef"},{value:0,color:"#96daff"},{value:20,color:"#f3d77c"},{value:40,color:"#ff9557"}]}},methods:{getTempColor:function(t){for(var e=0;e<this.temps.length-1;e++)if(t>=this.temps[e].value&&t<=this.temps[e+1].value)return u()(this.temps[e].color,this.temps[e+1].color,.5);return"#10428f"}}},l=c,s=n(1001),d=n(3453),f=n.n(d),h=n(7524),m=n(1009),p=(0,s.Z)(l,r,o,!1,null,"5fb8eac1",null),y=p.exports;f()(p,{VApp:h.Z,VMain:m.Z});var v=n(9132);a.Z.use(v.Z);var g=new v.Z({}),w=n(8345),x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"d-flex flex-column justify-center align-center",style:t.background,attrs:{fluid:""}},[n("SearchBar"),n("HomeInfo")],1)},_=[],b=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"d-flex flex-row align-center rounded-lg",attrs:{"max-width":"600"}},[a("v-img",{staticClass:"ml-4",attrs:{width:"36",height:"36",src:n(6394)}}),a("v-container",{attrs:{fluid:""}},[a("v-row",{attrs:{"no-gutters":"",align:"center"}},[a("v-col",{attrs:{cols:"12",lg:"5"}},[a("Country",{on:{"update-country":function(e){t.country=e,t.location=null}}})],1),a("v-col",{attrs:{cols:"12",lg:"7"}},[a("Location",{attrs:{country:t.country},on:{"update-location":function(e){return t.location=e}}})],1)],1)],1)],1)},T=[],Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-autocomplete",{staticClass:"my-1 mr-lg-2",attrs:{items:t.countries,loading:t.isLoading,"search-input":t.searchCountry,outlined:"","hide-details":"","hide-no-data":"","hide-selected":"",dense:"",placeholder:"Enter name of country","return-object":"",label:"Country","item-text":"name.common","item-value":"car.cca2"},on:{"update:searchInput":function(e){t.searchCountry=e},"update:search-input":function(e){t.searchCountry=e},change:function(e){return t.$emit("update-country",t.country)}},scopedSlots:t._u([{key:"prepend-inner",fn:function(){return[t.country?n("img",{staticClass:"mr-2 mt-1",attrs:{width:"24",height:"16",src:t.country.flags.svg}}):n("v-icon",[t._v("mdi-earth")])]},proxy:!0},{key:"item",fn:function(e){return[n("img",{staticClass:"mr-4",attrs:{width:"24",height:"16",src:e.item.flags.svg}}),n("div",[t._v(" "+t._s(e.item.name.common)+" ")])]}}]),model:{value:t.country,callback:function(e){t.country=e},expression:"country"}})},C=[],k=(n(1539),{name:"Country",data:function(){return{isLoading:!1,timeout:null,countries:[],country:null,searchCountry:null}},watch:{searchCountry:function(t){if(null==this.country&&""!=t&&t){clearTimeout(this.timeout),this.countries=[],this.isLoading=!0;var e=this;this.timeout=setTimeout((function(){var n={query:t};e.axios.get("/search/country",{params:n}).then((function(t){e.countries=t.data})).catch((function(t){console.log(t)})).finally((function(){e.isLoading=!1}))}),2e3)}}}}),D=k,S=n(6863),M=n(6428),j=(0,s.Z)(D,Z,C,!1,null,null,null),O=j.exports;f()(j,{VAutocomplete:S.Z,VIcon:M.Z});var L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-autocomplete",{staticClass:"my-1",attrs:{items:t.locations,loading:t.isLoading,"search-input":t.searchLocation,outlined:"","hide-details":"","hide-no-data":"","hide-selected":"",dense:"",placeholder:"Enter name of city","append-icon":"mdi-magnify","return-object":"",label:"Please enter your location","item-text":"name","item-value":"country"},on:{"update:searchInput":function(e){t.searchLocation=e},"update:search-input":function(e){t.searchLocation=e},change:function(e){return t.$emit("update-location",t.location)}},scopedSlots:t._u([{key:"prepend-inner",fn:function(){return[t.location?n("v-icon",{attrs:{color:"red"}},[t._v("mdi-map-marker")]):n("v-icon",[t._v("mdi-map-marker")])]},proxy:!0},{key:"item",fn:function(e){return[n("div",[t._v(" "+t._s(e.item.name)+", "+t._s(e.item.state)+", "+t._s(e.item.country)+" ")])]}}]),model:{value:t.location,callback:function(e){t.location=e},expression:"location"}})},E=[],V={name:"Location",props:{country:Object},data:function(){return{isLoading:!1,timeout:null,locations:[],location:null,searchLocation:null}},watch:{searchLocation:function(t){if(null==this.location&&""!=t&&t&&this.country){clearTimeout(this.timeout),this.locations=[],this.isLoading=!0;var e=this;this.timeout=setTimeout((function(){var n={query:t,country:e.country.cca2};e.axios.get("/search/location",{params:n}).then((function(t){e.locations=t.data})).catch((function(t){console.log(t)})).finally((function(){e.isLoading=!1}))}),2e3)}},country:function(){this.location=null,this.locations=[]}}},I=V,$=(0,s.Z)(I,L,E,!1,null,null,null),A=$.exports;f()($,{VAutocomplete:S.Z,VIcon:M.Z});n(7042);var P=n(8262),B=n(6486),N=n.n(B),F=(0,P.Q_)("weather",{state:function(){return{weather:null}},getters:{current:function(t){return t.weather?t.weather.current:null},daily:function(t){return t.weather?t.weather.daily:null},averageTemp:function(t){if(t.weather){var e=t.weather.daily,n=N().slice(e,1,6),a=parseInt(N().sumBy(n,(function(t){return t.temp.day}))/5);return a}return null}},actions:{update:function(t){this.weather=t}}}),H={name:"SearchBar",components:{Country:O,Location:A},setup:function(){var t=F();return{update:t.update}},data:function(){return{country:null,location:null}},watch:{location:function(){var t=this;this.country&&this.location&&this.axios.get("/weather",{params:{lat:this.location.lat,lon:this.location.lon}}).then((function(e){t.update(e.data)})).catch((function(t){console.log(t)}))}}},Y=H,z=n(2660),J=n(2102),R=n(247),W=n(7047),q=n(2877),Q=(0,s.Z)(Y,b,T,!1,null,null,null),U=Q.exports;f()(Q,{VCard:z.Z,VCol:J.Z,VContainer:R.Z,VImg:W.Z,VRow:q.Z});var G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("AverageTemp"),n("DailyTemps")],1)},K=[],X=function(){var t=this,e=t.$createElement,n=t._self._c||e;return null!=t.averageTemp?n("div",[n("div",{staticClass:"blue-grey--text text--darken-3 mt-9 d-flex justify-center",staticStyle:{"font-family":"Zelda-Regular","max-width":"600px"}},[n("p",{staticStyle:{"font-size":"1rem"}},[t._v(" "+t._s(t.avTempDate.startMonth)+" "+t._s(t.avTempDate.startDay)+" - "+t._s(t.avTempDate.startMonth===t.avTempDate.endMonth?"":t.avTempDate.endMonth)+" "+t._s(t.avTempDate.endDay)+" "+t._s(t.avTempDate.endYear)+" ")])]),n("div",{staticClass:"d-flex justify-center white--text font-weight-black",staticStyle:{"max-width":"600px"}},[n("p",{staticClass:"my-0 py-0 white--text font-weight-black",staticStyle:{"font-family":"Zelda-Bold","font-size":"8rem"}},[t._v(t._s(t.averageTemp))]),n("div",[n("v-icon",{staticClass:"mt-6 ml-1",attrs:{"x-large":"",dense:"",color:"white"}},[t._v("mdi-temperature-celsius")])],1)])]):t._e()},tt=[],et={name:"AverageTemp",setup:function(){var t=F();return{weather:t}},computed:{averageTemp:function(){return this.weather.averageTemp},avTempDate:function(){if(null!=this.averageTemp){var t=new Date(1e3*this.weather.daily[1].dt),e=new Date(1e3*this.weather.daily[5].dt);return{startMonth:this.getMonthName(t.getMonth()),endMonth:this.getMonthName(e.getMonth()),startDay:t.getDate(),endDay:e.getDate(),startYear:t.getFullYear(),endYear:e.getFullYear()}}return null}},methods:{getMonthName:function(t){var e=["Jan","Feb","Mar","Apr","May","June","July","Aug","Sept","Oct","Nov","Dec"];return e[t]},getDayName:function(t){var e=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];return e[t-1]}}},nt=et,at=(0,s.Z)(nt,X,tt,!1,null,null,null),rt=at.exports;f()(at,{VIcon:M.Z});var ot=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.daily?n("div",[n("div",{staticClass:"d-flex flex-wrap justify-center"},t._l(t.daily,(function(e){return n("div",{key:e.id,staticClass:"mr-2"},[n("div",{staticClass:"d-flex justify-center blue-grey--text text--darken-3",staticStyle:{"font-family":"Zelda-Regular"}},[t._v(t._s(t.getDayName(e.dt)))]),n("div",{staticClass:"d-flex justify-center white--text font-weight-black",staticStyle:{"max-width":"600px"}},[n("p",{staticClass:"my-0 py-0 white--text font-weight-black",staticStyle:{"font-family":"Zelda-Bold","font-size":"1.2rem"}},[t._v(t._s(parseInt(e.temp.day)))]),n("div",[n("v-icon",{staticClass:"mb-2",attrs:{small:"",dense:"",color:"white"}},[t._v("mdi-temperature-celsius")])],1)])])})),0)]):t._e()},it=[],ut={name:"DailyTemps",setup:function(){var t=F();return{weather:t}},computed:{daily:function(){return this.weather.daily?N().slice(this.weather.daily,0,this.weather.daily.length-1):[]}},methods:{getDayName:function(t){var e=new Date(1e3*t),n=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"];return n[e.getDay()]}}},ct=ut,lt=(0,s.Z)(ct,ot,it,!1,null,null,null),st=lt.exports;f()(lt,{VIcon:M.Z});var dt={components:{AverageTemp:rt,DailyTemps:st},name:"HomeInfo"},ft=dt,ht=(0,s.Z)(ft,G,K,!1,null,null,null),mt=ht.exports,pt={name:"HomePage",components:{SearchBar:U,HomeInfo:mt},setup:function(){var t=F();return{weather:t}},computed:{daily:function(){return this.weather.daily},background:function(){var t=this.daily?this.getTempColor(this.daily[0].temp.min):"#cee5f3",e=this.daily?this.getTempColor(this.daily[0].temp.max):"#fff2e2",n="linear-gradient(to bottom right, ".concat(t," 50%, ").concat(e," 90%)");return{background:n,height:"100%"}}},data:function(){return{temps:[{value:-40,color:"#10428f"},{value:-20,color:"#21a5ef"},{value:0,color:"#96daff"},{value:20,color:"#f3d77c"},{value:40,color:"#ff9557"}]}},methods:{getTempColor:function(t){for(var e=0;e<this.temps.length-1;e++)if(t>=this.temps[e].value&&t<=this.temps[e+1].value)return u()(this.temps[e].color,this.temps[e+1].color,t/20);return"#10428f"}}},yt=pt,vt=(0,s.Z)(yt,x,_,!1,null,null,null),gt=vt.exports;f()(vt,{VContainer:R.Z}),a.Z.use(w.Z);var wt=[{path:"/",name:"HomePage",component:gt}],xt=new w.Z({mode:"history",base:"/",routes:wt}),_t=xt,bt=n(9669),Tt=n.n(bt),Zt=n(2346),Ct=n(5706);a.Z.use(P.og);var kt=(0,P.WB)();a.Z.use(Ct.ZP),a.Z.config.productionTip=!1,a.Z.use(Zt.Z,Tt()),new a.Z({vuetify:g,router:_t,pinia:kt,render:function(t){return t(y)}}).$mount("#app")},6394:function(t,e,n){t.exports=n.p+"img/weather.7125b884.jpg"}},e={};function n(a){var r=e[a];if(void 0!==r)return r.exports;var o=e[a]={id:a,loaded:!1,exports:{}};return t[a].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=t,function(){n.amdO={}}(),function(){var t=[];n.O=function(e,a,r,o){if(!a){var i=1/0;for(s=0;s<t.length;s++){a=t[s][0],r=t[s][1],o=t[s][2];for(var u=!0,c=0;c<a.length;c++)(!1&o||i>=o)&&Object.keys(n.O).every((function(t){return n.O[t](a[c])}))?a.splice(c--,1):(u=!1,o<i&&(i=o));if(u){t.splice(s--,1);var l=r();void 0!==l&&(e=l)}}return e}o=o||0;for(var s=t.length;s>0&&t[s-1][2]>o;s--)t[s]=t[s-1];t[s]=[a,r,o]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){n.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){n.p="/"}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,a){var r,o,i=a[0],u=a[1],c=a[2],l=0;if(i.some((function(e){return 0!==t[e]}))){for(r in u)n.o(u,r)&&(n.m[r]=u[r]);if(c)var s=c(n)}for(e&&e(a);l<i.length;l++)o=i[l],n.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return n.O(s)},a=self["webpackChunkopen_weather"]=self["webpackChunkopen_weather"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(9745)}));a=n.O(a)})();
//# sourceMappingURL=app-legacy.65749945.js.map